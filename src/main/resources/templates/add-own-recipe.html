<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Recipe</title>
<!--    <link rel="stylesheet" href="/css/style.css"> &lt;!&ndash; Link to your CSS file for styling &ndash;&gt;-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<div>
    <h2>Add a New Recipe</h2>
    <div class="input-group input-group-default mb-3">
        <span class="input-group-text">Name</span>
        <input type="text" id="name" class="form-control" required>
    </div>
    <div class="input-group input-group-default mb-3">
        <span class="input-group-text">Category</span>
        <input type="text" id="category" class="form-control" required>
    </div>

    <div class="input-group">
        <span class="input-group-text">Instructions</span>
        <textarea id="instructions" class="form-control"></textarea>
    </div>

    <div class="input-group mb-3">
        <span class="input-group-text">Time</span>
        <span class="input-group-text">minutes</span>
        <input type="text" id="time" class="form-control">
    </div>
        <button id="recipeSubmit">Add recipe</button>
    <div>
        <form th:action="@{/add-own-recipe}" th:method="post" id="recipeForm">
            <input type="hidden" id="recipe" name="recipe">
        </form>
    </div>

    <div>
        <a href="/user/profile">
            <button style="position: fixed; top: 10px; right: 10px;">User profile</button>
        </a>
    </div>
</div>
<div>
    <a href="/">Back to Home</a>
</div>
<script>
    function formatRecipeData(event) {
        var name = document.getElementById('name').value;
        var category = document.getElementById('category').value;
        var instructions = document.getElementById('instructions').value;
        var time = document.getElementById('time').value;
        if(name !== "" || category!=="" || instructions!=="" || time!=="") {
            var formattedData = name + ',' + category + ',' + instructions + ',' + time;

            document.getElementById('recipe').value = formattedData;

            document.getElementById('recipeForm').submit();
        }

    }

    document.getElementById("recipeSubmit").addEventListener("click", formatRecipeData);

</script>
</body>
</html>