<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Recipe</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css"> <!-- Include the CSS file -->
</head>
<body>
<div>
    <a href="/?continue"><img src="../images/home.jpg" alt="Home" class="home-icon"></a>
</div>
<div class="container4">
    <h2>Add a New Recipe</h2>
    <div class="input-group input-group-default mb-3">
        <span class="input-group-text">Name: </span>
        <input type="text" id="name" class="form-control" required>
    </div>
    <div class="input-group input-group-default mb-3">
        <span class="input-group-text">Category: </span>
        <input type="text" id="category" class="form-control" required>
    </div>

    <div class="input-group">
        <span class="input-group-text">Instructions: </span>
        <input type="text" id="instructions" class="form-control">
    </div>

    <div class="input-group mb-3">
        <span class="input-group-text">Time (mins):</span>
        <input type="number" id="time" class="form-control" min="0">
    </div>
    <button id="recipeSubmit">Add recipe</button>
    <div>
        <form th:action="@{/add-own-recipe}" th:method="post" id="recipeForm">
            <input type="hidden" id="recipe" name="recipe">
        </form>
    </div>

    <div>
        <a href="/user/profile"><img src="../images/user.png" alt="User" class="user-icon"> </a>
    </div>
</div>
<script>
    function formatRecipeData(event) {
        var name = document.getElementById('name').value;
        var category = document.getElementById('category').value;
        var instructions = document.getElementById('instructions').value;
        var time = document.getElementById('time').value;
        if(name !== "" || category!=="" || instructions!=="" || time!=="") {
            var formattedData = name + ',' + category + ',' + instructions + ',' + time;

            document.getElementById('recipe').value = formattedData;

            document.getElementById('recipeForm').submit();
        }

    }

    document.getElementById("recipeSubmit").addEventListener("click", formatRecipeData);

</script>
</body>
</html>
